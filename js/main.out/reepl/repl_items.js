// Compiled by ClojureScript 1.7.228 {}
goog.provide('reepl.repl_items');
goog.require('cljs.core');
goog.require('reepl.helpers');
goog.require('cljs.tools.reader');
goog.require('reepl.code_mirror');
goog.require('reagent.core');
goog.require('reepl.show_value');
goog.require('clojure.string');
goog.require('cljs.reader');
goog.require('re_frame.core');
reepl.repl_items.styles = cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"intro-message","intro-message",1521955840),new cljs.core.Keyword(null,"output-item","output-item",-243378432),new cljs.core.Keyword(null,"repl-items","repl-items",847159361),new cljs.core.Keyword(null,"caret","caret",-1275001854),new cljs.core.Keyword(null,"input-item","input-item",-1524386460),new cljs.core.Keyword(null,"error-item","error-item",-13017340),new cljs.core.Keyword(null,"output-caret","output-caret",-1406552955),new cljs.core.Keyword(null,"input-text","input-text",-1336297114),new cljs.core.Keyword(null,"output-value","output-value",537285708),new cljs.core.Keyword(null,"input-caret","input-caret",-1491147666),new cljs.core.Keyword(null,"underlying-error","underlying-error",-223698892),new cljs.core.Keyword(null,"repl-item","repl-item",152498044)],[new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"padding","padding",1660304693),"10px 20px",new cljs.core.Keyword(null,"line-height","line-height",1870784992),1.5,new cljs.core.Keyword(null,"border-bottom","border-bottom",2110948415),"1px solid #aaa",new cljs.core.Keyword(null,"flex-direction","flex-direction",364609438),new cljs.core.Keyword(null,"row","row",-570139521),new cljs.core.Keyword(null,"margin-bottom","margin-bottom",388334941),(10)], null),cljs.core.PersistentArrayMap.EMPTY,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"flex","flex",-1425124628),(1),new cljs.core.Keyword(null,"overflow","overflow",2058931880),new cljs.core.Keyword(null,"auto","auto",-566279492),new cljs.core.Keyword(null,"flex-basis","flex-basis",983188475),(0),new cljs.core.Keyword(null,"flex-shrink","flex-shrink",1481146383),(1)], null),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"color","color",1011675173),"#aaf",new cljs.core.Keyword(null,"font-weight","font-weight",2085804583),"bold",new cljs.core.Keyword(null,"margin-right","margin-right",809689658),(5),new cljs.core.Keyword(null,"margin-left","margin-left",2015598377),(5),new cljs.core.Keyword(null,"font-size","font-size",-1847940346),(11),new cljs.core.Keyword(null,"padding-top","padding-top",1929675955),(2),new cljs.core.Keyword(null,"flex-direction","flex-direction",364609438),new cljs.core.Keyword(null,"row","row",-570139521)], null),cljs.core.PersistentArrayMap.EMPTY,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"color","color",1011675173),new cljs.core.Keyword(null,"red","red",-969428204),new cljs.core.Keyword(null,"padding","padding",1660304693),"5px 10px"], null),cljs.core.PersistentArrayMap.EMPTY,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"flex","flex",-1425124628),(1),new cljs.core.Keyword(null,"cursor","cursor",1011937484),new cljs.core.Keyword(null,"pointer","pointer",85071187),new cljs.core.Keyword(null,"word-wrap","word-wrap",-1700975926),new cljs.core.Keyword(null,"break-word","break-word",-153550263)], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"flex","flex",-1425124628),(1),new cljs.core.Keyword(null,"word-wrap","word-wrap",-1700975926),new cljs.core.Keyword(null,"break-word","break-word",-153550263)], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"color","color",1011675173),"#55f",new cljs.core.Keyword(null,"margin-right","margin-right",809689658),(10)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"margin-left","margin-left",2015598377),(10)], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"flex-direction","flex-direction",364609438),new cljs.core.Keyword(null,"row","row",-570139521),new cljs.core.Keyword(null,"padding","padding",1660304693),"3px 5px"], null)]);
reepl.repl_items.view = cljs.core.partial.call(null,reepl.helpers.view,reepl.repl_items.styles);
reepl.repl_items.text = cljs.core.partial.call(null,reepl.helpers.text,reepl.repl_items.styles);
reepl.repl_items.button = cljs.core.partial.call(null,reepl.helpers.button,reepl.repl_items.styles);
if(typeof reepl.repl_items.repl_item !== 'undefined'){
} else {
reepl.repl_items.repl_item = (function (){var method_table__7366__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);
var prefer_table__7367__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);
var method_cache__7368__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);
var cached_hierarchy__7369__auto__ = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);
var hierarchy__7370__auto__ = cljs.core.get.call(null,cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword(null,"hierarchy","hierarchy",-1053470341),cljs.core.get_global_hierarchy.call(null));
return (new cljs.core.MultiFn(cljs.core.symbol.call(null,"reepl.repl-items","repl-item"),((function (method_table__7366__auto__,prefer_table__7367__auto__,method_cache__7368__auto__,cached_hierarchy__7369__auto__,hierarchy__7370__auto__){
return (function (item,opts){
return new cljs.core.Keyword(null,"type","type",1174270348).cljs$core$IFn$_invoke$arity$1(item);
});})(method_table__7366__auto__,prefer_table__7367__auto__,method_cache__7368__auto__,cached_hierarchy__7369__auto__,hierarchy__7370__auto__))
,new cljs.core.Keyword(null,"default","default",-1987822328),hierarchy__7370__auto__,method_table__7366__auto__,prefer_table__7367__auto__,method_cache__7368__auto__,cached_hierarchy__7369__auto__));
})();
}
cljs.core._add_method.call(null,reepl.repl_items.repl_item,new cljs.core.Keyword(null,"input","input",556931961),(function (p__16275,opts){
var map__16276 = p__16275;
var map__16276__$1 = ((((!((map__16276 == null)))?((((map__16276.cljs$lang$protocol_mask$partition0$ & (64))) || (map__16276.cljs$core$ISeq$))?true:false):false))?cljs.core.apply.call(null,cljs.core.hash_map,map__16276):map__16276);
var num = cljs.core.get.call(null,map__16276__$1,new cljs.core.Keyword(null,"num","num",1985240673));
var text = cljs.core.get.call(null,map__16276__$1,new cljs.core.Keyword(null,"text","text",-1790561697));
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [reepl.repl_items.view,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"repl-item","repl-item",152498044),new cljs.core.Keyword(null,"input-item","input-item",-1524386460)], null)], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [reepl.repl_items.view,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"caret","caret",-1275001854),new cljs.core.Keyword(null,"input-caret","input-caret",-1491147666)], null)], null),"[",num,"]>"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [reepl.repl_items.view,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.Keyword(null,"input-text","input-text",-1336297114),new cljs.core.Keyword(null,"on-click","on-click",1632826543),cljs.core.partial.call(null,new cljs.core.Keyword(null,"set-text","set-text",1346789745).cljs$core$IFn$_invoke$arity$1(opts),text)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [reepl.code_mirror.colored_text,text], null)], null)], null);
}));
cljs.core._add_method.call(null,reepl.repl_items.repl_item,new cljs.core.Keyword(null,"log","log",-1595516004),(function (p__16278,opts){
var map__16279 = p__16278;
var map__16279__$1 = ((((!((map__16279 == null)))?((((map__16279.cljs$lang$protocol_mask$partition0$ & (64))) || (map__16279.cljs$core$ISeq$))?true:false):false))?cljs.core.apply.call(null,cljs.core.hash_map,map__16279):map__16279);
var value = cljs.core.get.call(null,map__16279__$1,new cljs.core.Keyword(null,"value","value",305978217));
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [reepl.repl_items.view,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"repl-item","repl-item",152498044),new cljs.core.Keyword(null,"log-item","log-item",-1168302303)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [reepl.show_value.show_value,value,null,opts], null)], null);
}));
cljs.core._add_method.call(null,reepl.repl_items.repl_item,new cljs.core.Keyword(null,"error","error",-978969032),(function (p__16281,opts){
var map__16282 = p__16281;
var map__16282__$1 = ((((!((map__16282 == null)))?((((map__16282.cljs$lang$protocol_mask$partition0$ & (64))) || (map__16282.cljs$core$ISeq$))?true:false):false))?cljs.core.apply.call(null,cljs.core.hash_map,map__16282):map__16282);
var value = cljs.core.get.call(null,map__16282__$1,new cljs.core.Keyword(null,"value","value",305978217));
var message = value.message;
var underlying = value.cause;
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [reepl.repl_items.view,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"repl-item","repl-item",152498044),new cljs.core.Keyword(null,"output-item","output-item",-243378432),new cljs.core.Keyword(null,"error-item","error-item",-13017340)], null)], null),message,(cljs.core.truth_(underlying)?new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [reepl.repl_items.text,new cljs.core.Keyword(null,"underlying-error","underlying-error",-223698892),underlying.message], null):null)], null);
}));
cljs.core._add_method.call(null,reepl.repl_items.repl_item,new cljs.core.Keyword(null,"output","output",-1105869043),(function (p__16284,opts){
var map__16285 = p__16284;
var map__16285__$1 = ((((!((map__16285 == null)))?((((map__16285.cljs$lang$protocol_mask$partition0$ & (64))) || (map__16285.cljs$core$ISeq$))?true:false):false))?cljs.core.apply.call(null,cljs.core.hash_map,map__16285):map__16285);
var value = cljs.core.get.call(null,map__16285__$1,new cljs.core.Keyword(null,"value","value",305978217));
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [reepl.repl_items.view,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"repl-item","repl-item",152498044),new cljs.core.Keyword(null,"output-item","output-item",-243378432)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [reepl.repl_items.view,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"caret","caret",-1275001854),new cljs.core.Keyword(null,"output-caret","output-caret",-1406552955)], null)], null),"<"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [reepl.repl_items.view,new cljs.core.Keyword(null,"output-value","output-value",537285708),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [reepl.show_value.show_value,value,null,opts], null)], null)], null);
}));
reepl.repl_items.intro_message = new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [reepl.repl_items.text,new cljs.core.Keyword(null,"intro-message","intro-message",1521955840),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [reepl.repl_items.text,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"font-weight","font-weight",2085804583),new cljs.core.Keyword(null,"bold","bold",-116809535),new cljs.core.Keyword(null,"font-size","font-size",-1847940346),"1.2em"], null)], null),"Reepl: "], null),"the cljs Read-eval-print-loop that really understands you.\n  Type ",new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [reepl.repl_items.text,new cljs.core.Keyword(null,"intro-code","intro-code",694747337),":cljs/clear"], null)," to clear the history"], null);
reepl.repl_items.repl_items = (function reepl$repl_items$repl_items(_){
return reagent.core.create_class.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"component-did-update","component-did-update",-1468549173),(function (this$){
var el = reagent.core.dom_node.call(null,this$);
return el.scrollTop = el.scrollHeight;
}),new cljs.core.Keyword(null,"reagent-render","reagent-render",-985383853),(function (items,opts){
return cljs.core.into.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [reepl.repl_items.view,new cljs.core.Keyword(null,"repl-items","repl-items",847159361),reepl.repl_items.intro_message], null),cljs.core.map.call(null,(function (p1__16287_SHARP_){
return reepl.repl_items.repl_item.call(null,p1__16287_SHARP_,opts);
}),items));
})], null));
});
